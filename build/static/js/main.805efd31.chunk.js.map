{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Display.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","newFilter","handleSearch","value","onChange","PersonForm","addContact","newName","newNum","handleNameChange","handleNumChange","onSubmit","type","Display","person","removeContact","className","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Success","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Failure","App","useState","persons","setPersons","setNewName","setNewNum","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","console","log","personService","initialPersons","length","searchResults","filter","includes","event","target","preventDefault","map","window","confirm","updateId","find","n","returnedPerson","catch","error","setTimeout","concat","delPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.805efd31.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n  const { newFilter, handleSearch } = props\n  /* Destructuring, same as\n  const newFilter = props.newFilter\n  const handleSearch = props.handleSearch\n  */\n    return (\n        <div>\n          Show <input value={newFilter} onChange={handleSearch}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n  const PersonForm = (props) => {\n    const {addContact, newName, newNum, handleNameChange, handleNumChange} = props\n\n    return(\n      <form onSubmit = {addContact} >\n        <div>\n          name: \n          <input \n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: \n          <input \n            value={newNum}\n            onChange={handleNumChange}\n          />\n        </div>\n\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Display = (props) => {\n\tconst {person, removeContact} = props\n\t\t\nreturn(\n      <li className='list'>\n        {person.name} {person.number}\n        <button onClick={removeContact}>delete</button>\n      </li>\n)\n}\n\nexport default Display","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll, create, update, remove\n}","import React from 'react'\n\nconst Success = ({ message }) => {\n  const successStyle = {\n    color: 'green',\n  \tbackground: 'lightgrey',\n  \tfontSize: 20,\n  \tborderStyle: 'solid',\n  \tborderRadius: 5,\n  \tpadding: 10,\n  \tmarginBottom: 10,\n  } \n\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={successStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst Failure = ({ message }) => {\n  const failureStyle = {\n    color: 'red',\n  \tbackground: 'lightgrey',\n  \tfontSize: 20,\n  \tborderStyle: 'solid',\n  \tborderRadius: 5,\n  \tpadding: 10,\n  \tmarginBottom: 10,\n  } \n\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={failureStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport {\n\tSuccess,\n\tFailure,\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Display from './components/Display'\nimport personService from './services/persons'\nimport { Success, Failure } from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n    }\n\n  const handleNumChange = (event) => {\n    console.log(event.target.value)\n    setNewNum(event.target.value)\n    }\n\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n    }\n\n// Contact addition\nconst addContact = (event) => {\n  event.preventDefault()\n\n  const newObject = {\n    name: newName,\n    number: newNum\n  }\n\n  if (persons.map(person => person.name).includes(newName))\n  {\n    if(window.confirm(`${newName} is already added to phonebook, overwrite?`))\n    {\n      const updatePerson = persons.find(n => n.name === newName)\n      const updateId = updatePerson.id\n      console.log(updateId)\n\n      //Overwrite\n      personService\n      .update(updateId, newObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== updateId ? person : returnedPerson ))\n      })\n      .catch(error => {\n      setErrorMessage(\n          `'${newName}' has already been removed from the derver`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000) \n      })\n    }\n  }\n  else\n  {\n    //Create\n    personService\n    .create(newObject)\n    .then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNum('')\n      setSuccessMessage(\n          `Added '${newName}'`\n        )\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3000)  \n    })\n    .catch(error => {\n      // this is the way to access the error message\n      console.log(error.response.data.error)\n      setErrorMessage(`'${error.response.data.error}'`)\n  })\n}\n}\n\n// Contact deletion\nconst removeContact = (id) => {\n\n  const delPerson = persons.find(n => n.id === id)\n\n  if (window.confirm(`Delete ${delPerson.name} ?`)){\n    personService\n    .remove(id)\n    .then(() => {\n        setPersons(persons.filter(person=>person.id !== id ))\n      })\n    }\n}\n\n// Searching\nconst searchResults = persons.filter(person => person.name.includes(newFilter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Success message={successMessage} />\n      <Failure message={errorMessage} />  \n      <Filter newFilter={newFilter} handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n      <PersonForm addContact={addContact} newName={newName} \n        newNum={newNum} handleNameChange={handleNameChange} handleNumChange={handleNumChange}\n      />\n      <h3>Numbers</h3>\n      <div>\n      <ul>\n      {searchResults.map(person=>\n        <Display\n          key={person.id} \n          person={person} \n          removeContact={() => removeContact(person.id)}\n        />\n      )}\n      </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App","\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}