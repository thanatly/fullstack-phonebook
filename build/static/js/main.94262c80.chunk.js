(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(14),r=t.n(c),a=t(3),o=t(1),u=t(0),i=function(e){var n=e.newFilter,t=e.handleSearch;return Object(u.jsxs)("div",{children:["Show ",Object(u.jsx)("input",{value:n,onChange:t})]})},l=function(e){var n=e.addContact,t=e.newName,c=e.newNum,r=e.handleNameChange,a=e.handleNumChange;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name:",Object(u.jsx)("input",{value:t,onChange:r})]}),Object(u.jsxs)("div",{children:["number:",Object(u.jsx)("input",{value:c,onChange:a})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.person,t=e.removeContact;return Object(u.jsxs)("li",{className:"list",children:[n.name," ",n.number,Object(u.jsx)("button",{onClick:t,children:"delete"})]})},s=t(4),j=t.n(s),b="api/persons",f=function(){return j.a.get(b).then((function(e){return e.data}))},h=function(e){return j.a.post(b,e).then((function(e){return e.data}))},m=function(e,n){return j.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},v=function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},p=function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),s=Object(a.a)(r,2),j=s[0],b=s[1],p=Object(o.useState)(""),x=Object(a.a)(p,2),w=x[0],S=x[1],C=Object(o.useState)(""),y=Object(a.a)(C,2),N=y[0],k=y[1],B=Object(o.useState)(null),z=Object(a.a)(B,2),A=z[0],D=z[1],E=Object(o.useState)(null),F=Object(a.a)(E,2),J=F[0],R=F[1];Object(o.useEffect)((function(){console.log("effect"),f().then((function(e){c(e)}))}),[]),console.log("render",t.length,"persons");var T=t.filter((function(e){return e.name.includes(N)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(g,{message:A}),Object(u.jsx)(v,{message:J}),Object(u.jsx)(i,{newFilter:N,handleSearch:function(e){console.log(e.target.value),k(e.target.value)}}),Object(u.jsx)("h3",{children:"Add a new"}),Object(u.jsx)(l,{addContact:function(e){e.preventDefault();var n={name:j,num:w};if(t.map((function(e){return e.name})).includes(j)){if(window.confirm("".concat(j," is already added to phonebook, overwrite?"))){var r=t.find((function(e){return e.name===j})).id;console.log(r),m(r,n).then((function(e){c(t.map((function(n){return n.id!==r?n:e})))})).catch((function(e){R("'".concat(j,"' has already been removed from the derver")),setTimeout((function(){R(null)}),3e3)}))}}else h(n).then((function(e){c(t.concat(e)),b(""),S(""),D("Added '".concat(j,"'")),setTimeout((function(){D(null)}),3e3)}))},newName:j,newNum:w,handleNameChange:function(e){console.log(e.target.value),b(e.target.value)},handleNumChange:function(e){console.log(e.target.value),S(e.target.value)}}),Object(u.jsx)("h3",{children:"Numbers"}),Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:T.map((function(e){return Object(u.jsx)(d,{person:e,removeContact:function(){return function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name," ?"))&&O(e).then((function(){c(t.filter((function(n){return n.id!==e})))}))}(e.id)}},e.id)}))})})]})};t(38);r.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.94262c80.chunk.js.map